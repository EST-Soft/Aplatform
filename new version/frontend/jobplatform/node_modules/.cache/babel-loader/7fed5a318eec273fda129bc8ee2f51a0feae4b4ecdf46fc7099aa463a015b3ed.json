{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Calendar from './MypageCalendar.vue';\nimport { onMounted, ref, computed } from 'vue';\nimport { api } from '@/axios';\nimport { formatDateYMD } from '@/tools';\nexport default {\n  __name: 'MypageHome',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let result = ref(null);\n    let applyStateSum = computed(() => getApplyStateSum());\n    let calendarEvents = computed(() => makeCalendarDatas());\n    onMounted(async () => {\n      result.value = await api.$get(\"/user/mypage/\", {\n        params: {\n          mbr_sq: 1,\n          month: 6\n        }\n      });\n    });\n    function getApplyStateSum() {\n      if (!result.value || !result.value.EachCndtnApplyCount) {\n        return 0;\n      }\n      let sum = 0;\n      for (const key in result.value.EachCndtnApplyCount) {\n        sum += result.value.EachCndtnApplyCount[key];\n      }\n      return sum;\n    }\n    function makeCalendarDatas() {\n      if (!result.value || !result.value.calendarData) {\n        return [];\n      }\n      let events = [];\n      for (const temp of result.value.calendarData) {\n        let event = {\n          id: '',\n          title: '',\n          date: '',\n          borderColor: '',\n          description: ''\n        };\n        event.id = temp.jpb_sq;\n        switch (temp.tbl_type) {\n          case 'S':\n            event.title = '스크랩공고마감';\n            event.borderColor = '#6495ed';\n            break;\n          case 'I':\n            event.title = '면접';\n            event.borderColor = '#ff69b4';\n            break;\n          case 'PP':\n            event.title = '제안받은공고마감';\n            event.borderColor = '#7fff00';\n            break;\n          case 'AC':\n            event.title = '지원공고';\n            event.borderColor = '#a9a9a9';\n            break;\n        }\n        event.date = temp.dtm;\n        event.description = temp.jbp_tl;\n        events.push(event);\n      }\n      return events;\n    }\n    const __returned__ = {\n      get result() {\n        return result;\n      },\n      set result(v) {\n        result = v;\n      },\n      get applyStateSum() {\n        return applyStateSum;\n      },\n      set applyStateSum(v) {\n        applyStateSum = v;\n      },\n      get calendarEvents() {\n        return calendarEvents;\n      },\n      set calendarEvents(v) {\n        calendarEvents = v;\n      },\n      getApplyStateSum,\n      makeCalendarDatas,\n      Calendar,\n      onMounted,\n      ref,\n      computed,\n      get api() {\n        return api;\n      },\n      get formatDateYMD() {\n        return formatDateYMD;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["Calendar","onMounted","ref","computed","api","formatDateYMD","result","applyStateSum","getApplyStateSum","calendarEvents","makeCalendarDatas","value","$get","params","mbr_sq","month","EachCndtnApplyCount","sum","key","calendarData","events","temp","event","id","title","date","borderColor","description","jpb_sq","tbl_type","dtm","jbp_tl","push"],"sources":["C:/Users/est/Desktop/p2/frontend/jobplatform/src/components/fo/user/mypage/MypageHome.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"result\">\r\n        <div class=\"row\" style=\"padding-bottom: 20px; border-bottom: 1px solid #eaeaea;\">\r\n            <div class=\"col-3\">\r\n                <div class=\"thumb-info-side-image-wrapper\">\r\n                    <img src=\"@/assets/profile.webp\" class=\"img-fluid\" alt=\"\" style=\"width: 180px;\">\r\n                </div>\r\n                <!-- 나중에 야돈대신 들어갈 자리 :src=\"{{result.rsmInfo.rsm_img_file_url}}\" -->\r\n            </div>\r\n            <div class=\"col-9 table-container\" >\r\n                <table class=\"table table-bordered\" style=\"margin-bottom: 0\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th colspan=\"3\">\r\n                                <h2 class=\"font-weight-bold\" style=\"margin-bottom: 10px;\">{{result.rsmInfo.rsm_tl}}</h2>\r\n                                <span>-최종 수정일자&nbsp;&nbsp;:&nbsp;&nbsp;{{ formatDateYMD(result.rsmInfo.insrt_dtm) }}</span><span style=\"margin-left: 20px;\">-포지션 수락 여부&nbsp;&nbsp;:&nbsp;&nbsp;{{ result.mbrInfo.pstn_prpsl_accept_yn = 'Y'? '수락':'거절'}}</span>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody style=\"text-align: center;\">\r\n                        <tr>\r\n                            <th>\r\n                                {{ result.mbrInfo.mbr_name }}\r\n                            </th>\r\n                            <th>\r\n                                {{ result.mbrInfo.mbr_mp }}\r\n                            </th>\r\n                            <th>\r\n                                {{ result.mbrInfo.mbr_eml_adrs }}\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                tbd\r\n                            </td>\r\n                            <td>\r\n                                tbd\r\n                            </td>\r\n                            <td>\r\n                                tbd\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\" style=\"padding-top:20px\">\r\n            <table class=\"table table-bordered\" style=\"text-align: center;\">\r\n                <tr>\r\n                    <th>등록한 이력서&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{result.myState.rsm_cnt}}</th>\r\n                    <th>추천 공고&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(로직 준비중)</th>\r\n                    <th>스크랩 공고&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{result.myState.scrap_cnt}}</th>\r\n                    <th>받은 제안&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{result.myState.prpsl_cnt}}</th>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n        <div class=\"row\" style=\"padding-top:20px; border-bottom: 1px solid #eaeaea;\">\r\n            <div class=\"col pb-3\">\r\n                <table class=\"table table-bordered table-apply-state\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th rowspan=\"2\">\r\n                                전체\r\n                            </th>\r\n                            <th colspan=\"2\">\r\n                                진행중\r\n                            </th>\r\n                            <th colspan=\"2\">\r\n                                면접\r\n                            </th>\r\n                            <th rowspan=\"2\">\r\n                                불합격\r\n                            </th>\r\n                            <th rowspan=\"2\">\r\n                                합격\r\n                            </th>\r\n                            <th rowspan=\"2\">\r\n                                마감\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>열람</th>\r\n                            <th>미열람</th>\r\n                            <th>대기</th>\r\n                            <th>완료</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                {{ applyStateSum }}\r\n                            </td>\r\n                            <td>\r\n                                {{ result.EachCndtnApplyCount.cndtn_402 || 0 }}\r\n                            </td>\r\n                            <td>\r\n                                {{ result.EachCndtnApplyCount.cndtn_401 || 0 }}\r\n                            </td>\r\n                            <td>\r\n                                {{ result.EachCndtnApplyCount.cndtn_405 || 0 }}\r\n                            </td>\r\n                            <td>\r\n                                {{ result.EachCndtnApplyCount.cndtn_406 || 0 }}\r\n                            </td>\r\n                            <td>\r\n                                {{ result.EachCndtnApplyCount.cndtn_408 || 0 }}\r\n                            </td>\r\n                            <td>\r\n                                {{ result.EachCndtnApplyCount.cndtn_407 || 0 }}\r\n                            </td>\r\n                            <td>\r\n                                (준비중)\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\" style=\"padding-top:20px;\">\r\n            <Calendar :events=\"calendarEvents\"/>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\n    import Calendar from './MypageCalendar.vue';\r\n    import {onMounted, ref, computed} from 'vue'\r\n    import {api} from '@/axios'\r\n    import { formatDateYMD } from '@/tools';\r\n \r\n    let result = ref(null);\r\n    let applyStateSum = computed(() => getApplyStateSum());\r\n    let calendarEvents = computed(() => makeCalendarDatas());\r\n\r\n    onMounted(async() => {\r\n            result.value = await api.$get(\"/user/mypage/\", {\r\n                params: {\r\n                    mbr_sq : 1,\r\n                    month : 6\r\n                }\r\n            });\r\n    });\r\n\r\n    function getApplyStateSum(){\r\n        if (!result.value || !result.value.EachCndtnApplyCount) {\r\n            return 0;\r\n        }\r\n\r\n        let sum = 0;\r\n        for(const key in result.value.EachCndtnApplyCount){\r\n            sum += result.value.EachCndtnApplyCount[key];\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    function makeCalendarDatas(){\r\n        if (!result.value || !result.value.calendarData) {\r\n            return [];\r\n        }\r\n\r\n        let events = [];\r\n\r\n        for(const temp of result.value.calendarData){\r\n            let event = {\r\n                id : '',\r\n                title : '',\r\n                date : '',\r\n                borderColor : '',\r\n                description : ''\r\n             };\r\n\r\n             event.id = temp.jpb_sq;\r\n             switch(temp.tbl_type){\r\n                case 'S' : \r\n                    event.title = '스크랩공고마감';\r\n                    event.borderColor = '#6495ed'\r\n                    break;\r\n                case 'I' :\r\n                    event.title = '면접';\r\n                    event.borderColor = '#ff69b4'\r\n                    break;\r\n                case 'PP' : \r\n                    event.title = '제안받은공고마감';\r\n                    event.borderColor = '#7fff00'\r\n                    break;\r\n                case 'AC' : \r\n                    event.title = '지원공고'\r\n                    event.borderColor = '#a9a9a9'\r\n                    break;\r\n             }\r\n             event.date = temp.dtm;\r\n             event.description = temp.jbp_tl;\r\n\r\n             events.push(event);\r\n        }\r\n\r\n        return events;\r\n    }\r\n\r\n</script>\r\n\r\n<style>\r\n.table-container{\r\n    display: flex;\r\n    align-items: center; /* 세로 축 가운데 정렬 */\r\n    justify-content: center; /* 가로 축 가운데 정렬 */\r\n}\r\n\r\n.table-apply-state th, .table-apply-state td{\r\n    text-align: center;\r\n    vertical-align: middle;\r\n}\r\n</style>"],"mappings":";AA8HI,OAAOA,QAAQ,MAAM,sBAAsB;AAC3C,SAAQC,SAAS,EAAEC,GAAG,EAAEC,QAAQ,QAAO,KAAK;AAC5C,SAAQC,GAAG,QAAO,SAAS;AAC3B,SAASC,aAAa,QAAQ,SAAS;;;;;;;IAEvC,IAAIC,MAAM,GAAGJ,GAAG,CAAC,IAAI,CAAC;IACtB,IAAIK,aAAa,GAAGJ,QAAQ,CAAC,MAAMK,gBAAgB,CAAC,CAAC,CAAC;IACtD,IAAIC,cAAc,GAAGN,QAAQ,CAAC,MAAMO,iBAAiB,CAAC,CAAC,CAAC;IAExDT,SAAS,CAAC,YAAW;MACbK,MAAM,CAACK,KAAK,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,eAAe,EAAE;QAC3CC,MAAM,EAAE;UACJC,MAAM,EAAG,CAAC;UACVC,KAAK,EAAG;QACZ;MACJ,CAAC,CAAC;IACV,CAAC,CAAC;IAEF,SAASP,gBAAgBA,CAAA,EAAE;MACvB,IAAI,CAACF,MAAM,CAACK,KAAK,IAAI,CAACL,MAAM,CAACK,KAAK,CAACK,mBAAmB,EAAE;QACpD,OAAO,CAAC;MACZ;MAEA,IAAIC,GAAG,GAAG,CAAC;MACX,KAAI,MAAMC,GAAG,IAAIZ,MAAM,CAACK,KAAK,CAACK,mBAAmB,EAAC;QAC9CC,GAAG,IAAIX,MAAM,CAACK,KAAK,CAACK,mBAAmB,CAACE,GAAG,CAAC;MAChD;MACA,OAAOD,GAAG;IACd;IAEA,SAASP,iBAAiBA,CAAA,EAAE;MACxB,IAAI,CAACJ,MAAM,CAACK,KAAK,IAAI,CAACL,MAAM,CAACK,KAAK,CAACQ,YAAY,EAAE;QAC7C,OAAO,EAAE;MACb;MAEA,IAAIC,MAAM,GAAG,EAAE;MAEf,KAAI,MAAMC,IAAI,IAAIf,MAAM,CAACK,KAAK,CAACQ,YAAY,EAAC;QACxC,IAAIG,KAAK,GAAG;UACRC,EAAE,EAAG,EAAE;UACPC,KAAK,EAAG,EAAE;UACVC,IAAI,EAAG,EAAE;UACTC,WAAW,EAAG,EAAE;UAChBC,WAAW,EAAG;QACjB,CAAC;QAEDL,KAAK,CAACC,EAAE,GAAGF,IAAI,CAACO,MAAM;QACtB,QAAOP,IAAI,CAACQ,QAAQ;UACjB,KAAK,GAAG;YACJP,KAAK,CAACE,KAAK,GAAG,SAAS;YACvBF,KAAK,CAACI,WAAW,GAAG,SAAS;YAC7B;UACJ,KAAK,GAAG;YACJJ,KAAK,CAACE,KAAK,GAAG,IAAI;YAClBF,KAAK,CAACI,WAAW,GAAG,SAAS;YAC7B;UACJ,KAAK,IAAI;YACLJ,KAAK,CAACE,KAAK,GAAG,UAAU;YACxBF,KAAK,CAACI,WAAW,GAAG,SAAS;YAC7B;UACJ,KAAK,IAAI;YACLJ,KAAK,CAACE,KAAK,GAAG,MAAM;YACpBF,KAAK,CAACI,WAAW,GAAG,SAAS;YAC7B;QACP;QACAJ,KAAK,CAACG,IAAI,GAAGJ,IAAI,CAACS,GAAG;QACrBR,KAAK,CAACK,WAAW,GAAGN,IAAI,CAACU,MAAM;QAE/BX,MAAM,CAACY,IAAI,CAACV,KAAK,CAAC;MACvB;MAEA,OAAOF,MAAM;IACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}